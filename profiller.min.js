var ProFiller=(function(){var a=Class.create();a.Version="1.0.0";a.options={onStart:Prototype.emptyFunction,onComplete:Prototype.emptyFunction};a.prototype={initialize:function(c,b){this.options=Object.extend(a.options,b||{});this.form=$(c);this.elements=this.form.getElements()},fill:function(b){this.data=$H(b);this.options.onStart(this.form);this.elements.each(function(c){this.elem=$(c);this.id=this.elem.identify();this.name=this.elem.readAttribute("name").sub("[]","");this.value=this.elem.readAttribute("value");this.type="_"+this.elem.tagName.toLowerCase();this[this.type]()}.bind(this));this.options.onComplete(this.form)},reset:function(){this.form.reset()},_find:function(e){var e=e||this.id;var c=this.data.get(e)||this.data.get(this.name)||false;if(!c&&this.id.include("::")){var d=new RegExp("\\:\\:.*$");var b=this.id.sub(d,"");c=this._find(b)}return c},_input:function(){switch(this.elem.readAttribute("type").toLowerCase()){case"checkbox":var b=this._find();if(b.indexOf(this.value)!==-1){this.elem.checked=true}break;case"radio":this.elem.checked=(this.value==this._find());break;case"text":this.elem.value=this._find()||"";break}},_select:function(){var d;var b=[];if(this.elem.multiple){b=this._find()}else{d=this._find()}var c=$A(this.elem.options);c.each(function(e){if(e.value==d||$A(b).indexOf(e.value)!==-1){e.selected=true}}.bind(this))},_textarea:function(){this.elem.value=this._find()||""}};return a})();