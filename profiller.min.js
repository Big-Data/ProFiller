var ProFiller=(function(){var a=Class.create();a.Version="2.0.0";a.options={reset:true};a.prototype={initialize:function(c,b){this.options=Object.extend(a.options,b||{});this.form=$(c);this.elements=this.form.getElements()},fill:function(e){var d,b,c;if(this.options.reset){this.form.reset()}this.data=$H(e);this.elements.each(function(g){b=g.readAttribute("name");d=this._getValue(b,this.data);c=g.readAttribute("type");if(Object.isArray(d)){for(var f=0;f<d.length;f++){this._setValue(g,c,d[f])}}else{this._setValue(g,c,d)}}.bind(this));return this.form},_getValue:function(b,f){var d=$H(f);var e=Object.isArray(b)?b:b.match(/([\w-]+)/g);var c=d.get(e[0]);if(e.length>1){e.shift();return this._getValue(e,c)}return c},_setValue:function(d,c,e){var b=d.readAttribute("value");switch(c){case"radio":(b==e)?d.setValue(e):false;break;case"checkbox":(b==e)?d.setValue(e):false;break;default:d.setValue(e);break}}};Element.addMethods("FORM",{fill:function(b,d,c){return new a(b,{reset:c}).fill(d)}});return a})();